-- Get the current player's character
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

-- Function to lock onto a player's torso
local function lockOnToPlayer(targetPlayer)
    local targetCharacter = targetPlayer.Character
    if targetCharacter then
        local targetTorso = targetCharacter:FindFirstChild("Torso") or targetCharacter:FindFirstChild("UpperTorso")
        if targetTorso then
            local attachment = Instance.new("Attachment")
            attachment.CFrame = character.Head.CFrame
            attachment.Parent = character.Head
            
            local alignPosition = Instance.new("AlignPosition")
            alignPosition.Attachment0 = attachment
            alignPosition.Attachment1 = targetTorso
            alignPosition.MaxForce = 5000
            alignPosition.Responsiveness = 200
            alignPosition.Parent = attachment
            
            local alignOrientation = Instance.new("AlignOrientation")
            alignOrientation.Attachment0 = attachment
            alignOrientation.Attachment1 = targetTorso
            alignOrientation.MaxTorque = 5000
            alignOrientation.Responsiveness = 200
            alignOrientation.Parent = attachment
            
            humanoid.Died:Connect(function()
                attachment:Destroy()
                alignPosition:Destroy()
                alignOrientation:Destroy()
            end)
        end
    end
end

-- Main loop
while true do
    for _, otherPlayer in ipairs(game.Players:GetPlayers()) do
        if otherPlayer ~= player then
            lockOnToPlayer(otherPlayer)
        end
    end
    wait(0.5) -- Check every half second
end
